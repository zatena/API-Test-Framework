
{
       "scenarioName": "简单测试",
       "steps": [

              {
              "caseName": "发布企业项目",
              "caseUrl": "/pro/top/submit",
              "caseMethod": "POST",
              "request": {
                     "body": {
                            "industry": "1002",
                            "projectName": "测试项目",
                            "deliveryContent": "原图",
                            "budget": 2000,
                            "country": 1,
                            "province": 114,
                            "city": 117,
                            "projectStatus": null,
                            "otherMsg": "测试",
                            "companyName": null,
                            "companyInfo": null,
                            "companyUrl": null,
                            "designerStyle": "233",
                            "customStyle": "",
                            "designerType": "",
                            "animation": null,
                            "graphic": null,
                            "illustration": null,
                            "ui": null,
                            "publishType": 2,
                            "processMode": 1,
                            "quoteTime": 3,
                            "isRemote": 1,
                            "resourceIds": "",
                            "resources": [],
                            "companyId": "100",
                            "projectPublishTypeBeanList": [{
                                   "materielName": "长图",
                                   "materielDescription": "长图180cmx360cm",
                                   "node": {
                                          "id": 3,
                                          "name": "插画",
                                          "edit": false,
                                          "unit": "0",
                                          "units": null,
                                          "node": {
                                                 "id": 25,
                                                 "name": "商业插画",
                                                 "edit": false,
                                                 "unit": "0",
                                                 "units": null,
                                                 "node": {
                                                        "id": 121,
                                                        "name": "广告商业插画",
                                                        "edit": false,
                                                        "unit": "张",
                                                        "units": ["张"]
                                                 }
                                          }
                                   },
                                   "isRange": 0,
                                   "amount": 1,
                                   "unit": "张",
                                   "id": 121
                            }],
                            "deliveryTask": "1、长图（广告商业插画）（1张）\n长图180cmx360cm",
                            "projectBackground": "产品目标是高增长",
                            "deliveryTime": "2019-12-30",
                            "paymentDay": "60",
                            "modifyBudgetType": 2
                     },
                     "headers":{
                            "Content-Type":"application/json",
                            "service-name":"top2",
                            "X-Top-User-Id": "1",
                            "X-Top-Token": "3076785b83df9e43165411f5d0234bc4"
                     }
              },
              "assertions": {
                     "status": 200,
                     "body": {
                            "code" : "0"
                     }
              }
              },
              {
                     "caseName": "项目定向推送给设计师",
                     "caseUrl": "/match/pushAgain?designerIds=1154&projectId=发布企业项目.projectId",
                     "caseMethod": "POST",
                     "request": {
                            "body": {
                            },
                            "headers":{
                                   "Content-Type":"application/json",
                                   "service-name":"top2",
                                   "X-Top-User-Id": "1",
                                   "X-Top-Token": "3076785b83df9e43165411f5d0234bc4"
                            }
                     },
                     "assertions": {
                            "status": 200,
                            "body": {
                                   "code" : "0"
                            }
                     }
              }


       ]
}



# if number == '1':
#     data['projectName'] = project_name
#     data['deliveryTime'] = delivery_time
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
#     logging.info("解析出来的企业项目信息 %s" % content)
#
#     if content is None:
#         raise ValueError('返回值为空。。。%s' % content)
#
#     if content['code'] == '0':
#         project_id = content['result']['projectId']
#     else:
#         pass
# if number == '2':
#     url = url % project_id
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
# if number == '3':
#     data['projectId'] = project_id
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
# if number == '4':
#     url = url % project_id
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
#     if content['code'] == '0':
#         quote_id = content["result"]["quoteInfo"]["id"]
#     else:
#         pass
# if number == '5':
#     data['id'] = quote_id
#     data['projectId'] = project_id
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
# if number == '6':
#     data['id'] = quote_id
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
# if number == '7':
#     data['id'] = quote_id
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
# if number == '8':
#     project_id = project_id
#     quote_id = quote_id
#     url = url % (quote_id, project_id)
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
# if number == '9':
#     data['id'] = project_id
#     data['projectName'] = project_name + "子项目"
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
# if number == '10':
#     data['projectId'] = project_id
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
#     if content['code'] == '0':
#         confirm_id = content['result']
#     else:
#         pass
# if number == '11':
#     project_id = project_id
#     url = url % project_id
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
# if number == '12':
#     url = url % confirm_id
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
#     if content['code'] == '0':
#         sub_projectId = content['result']['projectId']
#     else:
#         pass
# if number == '13':
#     data['confirmId'] = confirm_id
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
# if number == '14':
#     data['projectId'] = sub_projectId
#     data['vProjectId'] = cs.VPROJECT_ID
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
# if number == '15':
#     data['projectId'] = sub_projectId
#     data['planStartTime'] = str(others.get_now())[2]
#     data['planEndTime'] = delivery_time
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
# if number == '16':
#     data['projectId'] = sub_projectId
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
# if number == '17':
#     url = url % sub_projectId
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
# if number == '18':
#     url = url % sub_projectId
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
#     if content['code'] == '0':
#         contract_id = content['result']['contractId']
#     else:
#         pass
# if number == '19':
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
# if number == '20':
#     url = url % contract_id
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
# if number == '21':
#     url = url % sub_projectId
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
#     if content['code'] == '0':
#         plan_id = content['result']['planList'][0]['id']
#     else:
#         pass
# if number == '22':
#     data['projectId'] = sub_projectId
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
# if number == '23':
#     data['projectId'] = sub_projectId
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
# if number == '24':
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
#     if content['code'] == '0':
#         qiniu_token = content['result']['token']
#         qiniu_key = content['result']['key']
#     else:
#         pass
# # if number == '24':
# #     single_start = others.get_now()[0]
# #     url = 'https://upload.qiniup.com/'
# #     content = request.get_mfd(method=method, url=url, data=data, headers=headers)
# #     single_end = others.get_now()[0]
# #     if content.get('code') == 0:
# #         qiniu_hash = content.get('hash')
# #         qiniu_upkey = content.get('key')
# #     else:
# #         pass
# if number == '26':
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
#     if content['code'] == '0':
#         asset_id = content['result']['resourceList'][0]['id']
#     else:
#         pass
# if number == '27':
#     data['assetId'] = asset_id
#     data['planId'] = plan_id
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
# if number == '28':
#     data['projectId'] = sub_projectId
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
# if number == '29':
#     data['contractId'] = contract_id
#     data['planId'] = plan_id
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
# if number == '30':
#     data['proProjectId'] = sub_projectId
#     data['planId'] = plan_id
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
# if number == '31':
#     url = url % sub_projectId
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
# if number == '32':
#     url = url % sub_projectId
#     data['proProjectId'] = sub_projectId
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
# if number == '33':
#     data['projectId'] = project_id
#     data['productList'][0]['id'] = asset_id
#     data['productList'][0]['assetId'] = asset_id
#     data['productList'][0]['proProjectId'] = project_id
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
# if number == '34':
#     data['projectId'] = project_id
#     data['reportList'][0]['id'] = asset_id
#     data['reportList'][0]['assetId'] = asset_id
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
# if number == '35':
#     data['projectId'] = project_id
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
#     if content['code'] == '108117':
#         content['message'] = 'success'
#         content['result'] = '异常操作流程：error code-108117项目没有设置账期和收款金额，不能开启账期'
#     else:
#         pass
# if number == '36':
#     data['id'] = project_id
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
# if number == '37':
#     data['projectId'] = project_id
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
# if number == '38':
#     url = url % project_id
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
# if number == '39':
#     data['vProjectId'] = cs.VPROJECT_ID
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
# if number == '40':
#     url = url % cs.VPROJECT_ID
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
#     if content['code'] == '0':
#         income_id = content['result'][0]['id']
#     else:
#         pass
# if number == '41':
#     data['id'] = income_id
#     data['vProjectId'] = cs.VPROJECT_ID
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
# if number == '42':
#     data['projectIds'][0] = sub_projectId
#     data['vProjectId'] = cs.VPROJECT_ID
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
# if number == '43':
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
#     if content['code'] == '0':
#         balance = content['result']['balance']
#     else:
#         pass
# if number == '44':
#     if balance > 100:
#         content = request.get_message(method=method, url=url, data=data, headers=headers)
#         if content['code'] == '0':
#             withdraw_id = content['result']['withdrawId']
#         else:
#             pass
#     else:
#         pass
# if number == '45':
#     url = url % withdraw_id
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
# if number == '46':
#     data['proProjectIds'][0] = sub_projectId
#     data['withdrawId'] = withdraw_id
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
# if number == '47':
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
#     if content['code'] == '0':
#         rows = len(content['result']['list'])
#         for row in range(rows):
#             if content['result']['list'][row]['projectName'] == project_name + "子项目":
#                 pro_withdraw_id = content['result']['list'][row]['projectWithdrawId']
#     else:
#         pass
# if number == '48':
#     url = url % pro_withdraw_id
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
# if number == '49':
#     url = url % pro_withdraw_id
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
# if number == '50':
#     url = url % project_id
#     content = request.get_message(method=method, url=url, data=json.dumps(data), headers=headers)
#     # if content['result']['projectStatus'] == 8:
#     #     logging.info("企业项目完结")



<th>接口路径</th>

"<td>" + n["serviceUrl"] + "</td>" +




{
"caseName": "主项目时间筛选的下载",
"caseUrl": "/dashboard/export?X-Top-User-Id=1&X-Top-Token=3076785b83df9e43165411f5d0234bc4&service-name=top2&leaderType=1&exportDateType=3&startTime=2019-06-01%2000:00:00&endTime=2019-07-31%2023:59:59&topUserIdList=1,4,42",
"caseMethod": "GET",
"request": {
"body": {
},
"headers":{
}
},
"assertions": {
"status": 200,
"body": {
"code" : "0"
}
}
},
{
"caseName": "项目预计完成时间筛选的下载",
"caseUrl": "/dashboard/export?X-Top-User-Id=1&X-Top-Token=3076785b83df9e43165411f5d0234bc4&service-name=top2&leaderType=1&exportDateType=1&startTime=2019-06-01%2000:00:00&endTime=2019-07-31%2023:59:59&topUserIdList=1,4,42",
"caseMethod": "GET",
"request": {
"body": {
},
"headers":{
}
},
"assertions": {
"status": 200,
"body": {
"code" : "0"
}
}
}










